<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://xmlns.jcp.org/jsf/core">	
<h:head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible" />    
    <title>JSF Lottoland Task</title>
</h:head>
<h:body>

	<h:form>
		<h:commandButton value="New Game" action="#{gameBean.newGame()}"/>
		<br/>
		<h:outputText value="Username"></h:outputText>
		<h:inputTextarea cols="20" rows="1" value="#{gameBean.user}" style="resize: none"/>
		<br/>
		<h:outputText value="Total rounds played"></h:outputText>
		<h:inputTextarea cols="20" rows="1" value="#{gameBean.totalRounds}" style="resize: none"/>
		<br/>
		<h:outputText value="Total P1 wins"></h:outputText>
		<h:inputTextarea cols="20" rows="1" value="#{gameBean.totalP1Wins}" style="resize: none"/>
		<br/>
		<h:outputText value="Total P2 wins"></h:outputText>
		<h:inputTextarea cols="20" rows="1" value="#{gameBean.totalP2Wins}" style="resize: none"/>
		<br/>
		<h:outputText value="Total Draws"></h:outputText>
		<h:inputTextarea cols="20" rows="1" value="#{gameBean.totalDraws}" style="resize: none"/>
	</h:form>
	<br/>
	<h:dataTable value="#{gameBean.getGameList()}" var="gameData" border="1">
		<h:column>
			<br/>
			<h:form>
				<h:inputTextarea cols="5" rows="1" readonly="true" value="#{gameBean.getUserGame(gameData.id)}" style="resize: none"/>
				<h:commandButton value="Play Round" action="#{gameBean.playRound(gameData.id)}"/>
				<h:commandButton value="Restart Game" action="#{gameBean.restartGame(gameData.id)}"/>
				<h:commandButton value="Delete Game" action="#{gameBean.deleteGame(gameData.id)}"/>
				<h:inputTextarea cols="5" rows="1" readonly="true" value="#{gameBean.getActualRoundsNum(gameData.id)}" style="resize: none"/>
			</h:form>
			
			<h:dataTable value="#{gameBean.getRoundsResults(gameData.id)}" var="roundRes" border="1">
				<h:column>
					<f:facet name="header">Player 1</f:facet>
					<h:outputText value="#{roundRes.p1Choice}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Player 2</f:facet>
					<h:outputText value="#{roundRes.p2Choice}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Result</f:facet>
					<h:outputText value="#{roundRes.roundResultName}"></h:outputText>
				</h:column>
			</h:dataTable>
			<br/>
		</h:column>
	</h:dataTable>
	
</h:body>
</html>